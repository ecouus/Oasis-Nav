<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Nav | 书签</title>
    <link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🥭</text></svg>">
    <link rel="stylesheet" href="/static/css/common.css?v=11">
    <link rel="stylesheet" href="/static/css/index.css?v=11">
</head>
<body>

    <!-- 顶部导航栏 -->
    <nav class="top-nav">
        <div class="nav-left">
            <div class="logo">
                <span class="logo-emoji" id="siteIcon">🥭</span>
                <span id="siteTitle">Nav</span>
            </div>
            <!-- 分类导航 -->
            <div class="category-nav" id="categoryNav">
                <!-- 动态生成 -->
            </div>
        </div>

        <div class="nav-right">
            <div class="search-wrapper">
                <svg class="search-icon" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="searchInput" class="search-input" placeholder="搜索..." onkeyup="filterLinks()">
            </div>
            <div class="theme-toggle" id="themeToggle" title="主题设置">🎨</div>
        </div>
    </nav>

    <!-- 设置面板 -->
    <div class="settings-panel" id="settingsPanel">
        <h4>选择主题</h4>
        <div class="theme-options">
            <button class="theme-btn active" data-theme="warm">🌾 米黄</button>
            <button class="theme-btn" data-theme="light">☀️ 明亮</button>
            <button class="theme-btn" data-theme="dark">🌙 深暗</button>
            <button class="theme-btn" data-theme="green">🌿 绿色</button>
        </div>
        
        <h4>自定义 CSS</h4>
        <div class="custom-css-area">
            <textarea id="customCss" placeholder="/* 自定义样式 */"></textarea>
            <button class="apply-btn" onclick="applyCustomCss()">应用</button>
            <p class="hint">可自定义 --accent 等 CSS 变量</p>
        </div>
    </div>

    <!-- 主内容区 -->
    <main class="main-content" id="contentArea">
        <div class="loading">加载中...</div>
    </main>

    <!-- 返回顶部按钮 -->
    <div class="back-to-top" id="backToTop" title="返回顶部">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </div>

    <!-- 页脚 -->
    <footer class="site-footer">
        <div class="footer-inner">
            <span class="footer-custom" id="footerCustom"></span>
            <span>Powered by <a id="projectLink" href="#" target="_blank">Nav</a></span>
        </div>
    </footer>

    <!-- 隐藏链接密码弹窗 -->
    <div class="modal-overlay" id="passwordModal">
        <div class="modal-box">
            <h3>🔐</h3>
            <input type="password" id="hiddenPassword" placeholder="输入密码" onkeydown="if(event.key==='Enter')verifyHiddenPassword()">
            <button onclick="verifyHiddenPassword()">确认</button>
            <div class="error" id="passwordError"></div>
        </div>
    </div>

    <!-- 书签密码弹窗 -->
    <div class="modal-overlay" id="bookmarkModal">
        <div class="modal-box">
            <h3>🔖</h3>
            <input type="password" id="bookmarkPassword" placeholder="输入书签密码" onkeydown="if(event.key==='Enter')verifyBookmarkPassword()">
            <button onclick="verifyBookmarkPassword()">确认</button>
            <div class="error" id="bookmarkError"></div>
        </div>
    </div>

    <!-- 自定义 CSS 注入 -->
    <style id="customStyles"></style>

    <script src="/static/js/index.js?v=12"></script>
</body>
</html>
